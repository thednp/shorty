{"version":3,"file":"getUID.cjs","sources":["../../src/get/getUID.ts"],"sourcesContent":["import isMap from '../is/isMap';\n\nlet elementUID = 0;\nlet elementMapUID = 0;\n\ntype KeyIdMap = Map<string | number, number>;\ntype IDMap = Map<number | string | HTMLElement, number | KeyIdMap>;\n\nconst elementIDMap: IDMap = new Map();\n\n/**\n * Returns a unique identifier for popover, tooltip, scrollspy.\n *\n * @param element target element\n * @param key optional identifier key\n * @returns an existing or new unique ID\n */\nconst getUID = (element: HTMLElement, key?: string): number => {\n  let result = key ? elementUID : elementMapUID;\n\n  if (key) {\n    const elID = getUID(element);\n    const elMap = elementIDMap.get(elID) || (new Map() as KeyIdMap);\n    if (!elementIDMap.has(elID)) {\n      elementIDMap.set(elID, elMap);\n    }\n    if (isMap(elMap as KeyIdMap) && !(elMap as KeyIdMap).has(key)) {\n      (elMap as KeyIdMap).set(key, result);\n      elementUID += 1;\n    } else result = (elMap as KeyIdMap).get(key) as number;\n  } else {\n    const elkey = element.id || element;\n\n    if (!elementIDMap.has(elkey)) {\n      elementIDMap.set(elkey, result);\n      elementMapUID += 1;\n    } else result = elementIDMap.get(elkey) as number;\n  }\n  return result;\n};\n\nexport default getUID;\n"],"names":[],"mappings":";;;;;AAEA,IAAI,UAAa,GAAA,CAAA,CAAA;AACjB,IAAI,aAAgB,GAAA,CAAA,CAAA;AAKpB,MAAM,YAAA,uBAA0B,GAAI,EAAA,CAAA;AAS9B,MAAA,MAAA,GAAS,CAAC,OAAA,EAAsB,GAAyB,KAAA;AAC7D,EAAI,IAAA,MAAA,GAAS,MAAM,UAAa,GAAA,aAAA,CAAA;AAEhC,EAAA,IAAI,GAAK,EAAA;AACP,IAAM,MAAA,IAAA,GAAO,OAAO,OAAO,CAAA,CAAA;AAC3B,IAAA,MAAM,QAAQ,YAAa,CAAA,GAAA,CAAI,IAAI,CAAA,wBAAU,GAAI,EAAA,CAAA;AACjD,IAAA,IAAI,CAAC,YAAA,CAAa,GAAI,CAAA,IAAI,CAAG,EAAA;AAC3B,MAAa,YAAA,CAAA,GAAA,CAAI,MAAM,KAAK,CAAA,CAAA;AAAA,KAC9B;AACA,IAAA,IAAI,MAAM,KAAiB,CAAA,IAAK,CAAE,KAAmB,CAAA,GAAA,CAAI,GAAG,CAAG,EAAA;AAC7D,MAAC,KAAA,CAAmB,GAAI,CAAA,GAAA,EAAK,MAAM,CAAA,CAAA;AACnC,MAAc,UAAA,IAAA,CAAA,CAAA;AAAA,KAChB;AAAO,MAAU,MAAA,GAAA,KAAA,CAAmB,IAAI,GAAG,CAAA,CAAA;AAAA,GACtC,MAAA;AACL,IAAM,MAAA,KAAA,GAAQ,QAAQ,EAAM,IAAA,OAAA,CAAA;AAE5B,IAAA,IAAI,CAAC,YAAA,CAAa,GAAI,CAAA,KAAK,CAAG,EAAA;AAC5B,MAAa,YAAA,CAAA,GAAA,CAAI,OAAO,MAAM,CAAA,CAAA;AAC9B,MAAiB,aAAA,IAAA,CAAA,CAAA;AAAA,KACnB;AAAO,MAAS,MAAA,GAAA,YAAA,CAAa,IAAI,KAAK,CAAA,CAAA;AAAA,GACxC;AACA,EAAO,OAAA,MAAA,CAAA;AACT;;;;"}