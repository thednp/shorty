{"version":3,"file":"getRectRelativeToOffsetParent.cjs","sources":["../../src/get/getRectRelativeToOffsetParent.ts"],"sourcesContent":["import type { OffsetRect } from '../interface/offsetRect';\nimport isScaledElement from '../is/isScaledElement';\nimport isHTMLElement from '../is/isHTMLElement';\nimport getBoundingClientRect from './getBoundingClientRect';\n\n/**\n * Returns the rect relative to a given offset parent and its scroll position.\n *\n * @see https://github.com/floating-ui/floating-ui\n *\n * @param element target\n * @param offsetParent the container / offset parent\n * @param scroll the offsetParent scroll position\n * @returns a DOMRect like object\n */\nconst getRectRelativeToOffsetParent = (\n  element: HTMLElement,\n  offsetParent: HTMLElement,\n  scroll: { x: number; y: number },\n): OffsetRect => {\n  const isParentAnElement = isHTMLElement(offsetParent);\n  const rect = getBoundingClientRect(element, isParentAnElement && isScaledElement(offsetParent));\n  const offsets = { x: 0, y: 0 };\n\n  /* istanbul ignore next */\n  if (isParentAnElement) {\n    const offsetRect = getBoundingClientRect(offsetParent, true);\n    offsets.x = offsetRect.x + offsetParent.clientLeft;\n    offsets.y = offsetRect.y + offsetParent.clientTop;\n  }\n\n  return {\n    x: rect.left + scroll.x - offsets.x,\n    y: rect.top + scroll.y - offsets.y,\n    width: rect.width,\n    height: rect.height,\n  };\n};\n\nexport default getRectRelativeToOffsetParent;\n"],"names":[],"mappings":";;;;;;;;AAeA,MAAM,6BAAgC,GAAA,CACpC,OACA,EAAA,YAAA,EACA,MACe,KAAA;AACf,EAAM,MAAA,iBAAA,GAAoB,cAAc,YAAY,CAAA,CAAA;AACpD,EAAA,MAAM,OAAO,qBAAsB,CAAA,OAAA,EAAS,iBAAqB,IAAA,eAAA,CAAgB,YAAY,CAAC,CAAA,CAAA;AAC9F,EAAA,MAAM,OAAU,GAAA,EAAE,CAAG,EAAA,CAAA,EAAG,GAAG,CAAE,EAAA,CAAA;AAG7B,EAAA,IAAI,iBAAmB,EAAA;AACrB,IAAM,MAAA,UAAA,GAAa,qBAAsB,CAAA,YAAA,EAAc,IAAI,CAAA,CAAA;AAC3D,IAAQ,OAAA,CAAA,CAAA,GAAI,UAAW,CAAA,CAAA,GAAI,YAAa,CAAA,UAAA,CAAA;AACxC,IAAQ,OAAA,CAAA,CAAA,GAAI,UAAW,CAAA,CAAA,GAAI,YAAa,CAAA,SAAA,CAAA;AAAA,GAC1C;AAEA,EAAO,OAAA;AAAA,IACL,CAAG,EAAA,IAAA,CAAK,IAAO,GAAA,MAAA,CAAO,IAAI,OAAQ,CAAA,CAAA;AAAA,IAClC,CAAG,EAAA,IAAA,CAAK,GAAM,GAAA,MAAA,CAAO,IAAI,OAAQ,CAAA,CAAA;AAAA,IACjC,OAAO,IAAK,CAAA,KAAA;AAAA,IACZ,QAAQ,IAAK,CAAA,MAAA;AAAA,GACf,CAAA;AACF;;;;"}